SOON:

 * finish libffi implementation for emscripten
 * get all the testcases passing again


EVENTUALLY:

* file descriptors start at 1 in emscripten

* pypy thinks we have st_atim, when we don't

* sizeof off_t is not longlong

* CallDescr and function pointers in the JIT; we need to re-work this
  to make sure that calls are being done, and to work around the
  pointer-aliasing issues that are unique to emscripten.
   * for now, we're using ALISING_FUNCTION_POINTERS=0 in emscripten settings,
     but this generates a significant increase in code size.
   * things to do to fix
     * fix indexing of bytcode_for_address to take into account the calldescr
       as well as the function pointer address

* use emscripten_get_now() for performance timing?

* pypy'c gc doesn't malloc at aligned boundaries, so we have to force
  emscripten to generate workaround code for this.  Can we fix it in
  pypy with a little bit of hackery?
    * in the meantime, setenv EMCC_LLVM_TARGET=i386-pc-linux-gnu to force
      it to assume 4-byte-aligned fields.

* it's very easy to blow the stack on chrome on linux; not sure about other platforms
  * currently we can only execute about 4 python frames deep before it blows!
  * I suspect it's because dispatch_bytecode and friends have lots of local variables, so they take up lots of stack space.

* have to figure out the "stack check" thing and what I need to do to
  make it work in the jit, and in js in general

* things to try:
  * experiment with --gcremovetypeptr, see what difference it makes
    to memory usage, and make sure the jit still works
  * --clever-malloc-removal

* llvm `mergefunc` to merge a bunch of trivial, identical helper functions

* FUNCTION_POINTER_ALIGNMENT = 1

* --llvm-lto=3

* using closure on the compiled shell
